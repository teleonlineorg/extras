<html>
<head>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
</head>
<body>
<div id="player"></div>
<script>
		var getUrlParameter = function getUrlParameter(sParam) {
			var sPageURL = decodeURIComponent(window.location.search.substring(1)),
				sURLVariables = sPageURL.split('&'),
				sParameterName,
				i;

			for (i = 0; i < sURLVariables.length; i++) {
				sParameterName = sURLVariables[i].split('=');

				if (sParameterName[0] === sParam) {
					return sParameterName[1] === undefined ? true : sParameterName[1];
				}
			}
		};
		
		var canalAReproducir = getUrlParameter("channel");
		
		if (canalAReproducir.includes("m3u8")) {
			var player = new Clappr.Player({
				source: canalAReproducir,
				parentId: '#player',
				height: '100%',
				width: '100%',
				autoPlay: true,
				disableVideoTagContextMenu: true,
                                watermark: "https://teleonline.org//img/logo/logo-teleonline.png", position: 'top-left',
                                watermarkLink: "https://teleonline.org/",
				plugins: [ChromecastPlugin,Clappr.HLS,Clappr.FlasHLS,LevelSelector],
                                                    chromecast: {
                                                      appId: '9DFB77C0',
                                                      media: {
                                                        title: '',
                                                        subtitle: ''
                                                      }
                                                    },
                                                    levelSelectorConfig: {
                                                        title: 'Calidad',
                                                        labels: {
                                                            6: 'ULTRAHD 2160',
                                                            5: 'FULLHD 1080',
                                                            4: 'HD 720p',
                                                            3: 'SD 540p',
                                                            2: 'SD 480p',
                                                            1: 'SD 360p',
                                                            0: 'SD 120p',
                                                        }
                                                    }
			});
		}		

</script>
</body>
</html>
