<html>
   	<head>
	<!-- Reproductor -->
		<!-- https://teleonlineorg.github.io/extras/reproductor.html?channel= -->
	      <meta name='theme-color' content='black'>
	      <meta name='apple-mobile-web-app-status-bar-style' content='black'>
	      <meta name='referrer' content='no-referrer'>
	      <meta content='width=device-width, initial-scale=1' name='viewport'>
	      <title>TELEONLINE.ORG - Reproductor</title>
	      <link href='favicon2.ico' rel='shortcut icon' type='image/x-icon'>
	      <script src='//cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js'></script>
	      <script src='//cdn.jsdelivr.net/npm/level-selector@latest/dist/level-selector.min.js'></script>
	      <script src='//cdn.jsdelivr.net/npm/clappr-chromecast-plugin@latest/dist/clappr-chromecast-plugin.min.js'></script>
	      <script src='//cdn.jsdelivr.net/npm/clappr-pip@latest/dist/clappr-pip.min.js'></script>
	      <script src='//cdn.jsdelivr.net/npm/dash-shaka-playback@latest/dist/dash-shaka-playback.min.js'></script>
	      <script src='//cdn.jsdelivr.net/npm/clappr-playback-rate-plugin@latest/dist/clappr-playback-rate-plugin.min.js'></script>
	</head>
   <body bgcolor='black' style='margin:0' oncontextmenu='return false' onkeydown='return false'>
      <div id='player'></div>
	   
	   <script>
		var getUrlParameter = function getUrlParameter(sParam) {
			var sPageURL = decodeURIComponent(window.location.search.substring(1)),
				sURLVariables = sPageURL.split('&'),
				sParameterName,
					i;
				for (i = 0; i < sURLVariables.length; i++) {
					sParameterName = sURLVariables[i].split('=');
					if (sParameterName[0] === sParam) {
						return sParameterName[1] === undefined ? true : sParameterName[1];
					}
				}
		};
		var canalAReproducir = getUrlParameter("canal");
		//Repro
		if (canalAReproducir.includes("m3u8")) {
			var player = new Clappr.Player({
			source: 'https://rtvelivestream.akamaized.net/la1_dvr.m3u8',
			parentId: '#player',
                 	mimeType: 'audio/mpeg',
			height: '100%',
			width: '100%',
			disableVideoTagContextMenu: true,
                        watermark: "https://teleonline.org/img/logo/logo-teleonline.png", position: 'top-left',
                        watermarkLink: "https://teleonline.org/",
			autoPlay: true,
			 shakaConfiguration: {
			 manifest: {retryParameters: {maxAttempts: Infinity}},
			 streaming: {retryParameters: {maxAttempts: Infinity}},
			 drm: {retryParameters: {maxAttempts: Infinity}},
			 },
			 playbackRateConfig: {
			 defaultValue: '1.00x',
			 options: [
			 {value: '0.10', label: '0.10x'},
			 {value: '0.25', label: '0.25x'},
			 {value: '0.50', label: '0.50x'},
			 {value: '0.75', label: '0.75x'},
			 {value: '1.00', label: '1.00x'},
			 {value: '1.25', label: '1.25x'},
			 {value: '1.50', label: '1.50x'},
			 {value: '1.75', label: '1.75x'},
			 {value: '2.00', label: '2.00x'},
			 ]
			 },
			plugins: [LevelSelector, ChromecastPlugin, ClapprPip.PipButton, ClapprPip.PipPlugin, DashShakaPlayback, Clappr.MediaControl, PlaybackRatePlugin],
                 	events: {onReady: function() {var plugin = this.getPlugin('click_to_pause'); plugin && plugin.disable();},},
			});
		}		
</script>
</html>
